const gPort=chrome.runtime.connect(),gInitTime=performance.now();let gOnKeyDown,gKeyCache=[],gShortcutCache=[],gClose=!1;chrome.runtime.lastError&&console.log("Chrome error:",chrome.runtime.lastError),function(){const e=/[-'!"#$%&()\*+,\.\/:;<=>?@\[\\\]\^_`{|}~ \w]/;gOnKeyDown=function(o){var r=String.fromCharCode(o.which);switch(o.shiftKey||(r=r.toLocaleLowerCase()),o.which){case 27:gClose=!0;break;case 8:gKeyCache.pop();break;default:o.altKey||o.ctrlKey||o.metaKey?gShortcutCache.push(r):e.test(r)&&gKeyCache.push(r)}},document.addEventListener("keydown",gOnKeyDown)}();