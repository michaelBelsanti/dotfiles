!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=204)}({1:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return f}));var r=n(14);const o=function(e,t={},n=[]){const r=document.createElement(e);for(const e in t){const n=t[e];if("styles"===e)for(const e in n)r.style.setProperty(e,n[e]);else r.setAttribute(e,n)}return n.forEach((e=>{e&&r.appendChild(e)})),r},u=function(e){return`https://www.amazon.com/s?k=${e=e.replace(/[\s]/g,"+")}`},c=function({host:e,pathname:t,search:n}){const r=(e.match(/[^.]+\.[^.]+$/)||[])[0];let o="external";return"amazon-adsystem.com"===r?o="ad":"amazon.com"===r&&new RegExp("^/([^/]*/)?slredirect/").test(t)?o="sponsored":"amazon.com"===r&&new RegExp("^/([^/]*/)?dp/").test(t)?o="product":"amazon.com"===r&&new RegExp("^/s/").test(t)?o="search":"amazon.com"===r&&new RegExp("^/([^/]*/)?b/").test(t)?o="category":"amazon.com"===r&&(o="amazon"),{type:o,domain:r,ref:(t.match(/ref=(.+)/)||[])[1]}},a=function(e){return["home","search","product","cart","thankyou"].find((t=>{const n=e[`${t}PagePathRegex`]||null,r=null!==location.pathname.match(n),o=document.querySelector(e[`${t}PageContainer`]),u=e[`${t}PageRequirements`];return!(!u||!r&&!o)&&u.every((e=>document.querySelector(e)))}))},i=function(e){return r(e)},s=function(e,t){const n={queries:{[t]:{}}};return e.forEach((e=>{if(e){const r=i(e);n.queries[t][r]=e}})),n},f=function(e,t){const n=e.methodFactory;e.methodFactory=function(e,r,o){const u=n(e,r,o);return function(...e){u(t,...e)}},e.setLevel(e.getLevel())}},14:function(e,t,n){"use strict";function r(e,t){var n,r;if(0===t.length)return e;for(n=0,r=t.length;n<r;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e<0?-2*e:e}function o(e,t,n,u){var c,a=r(r(r(e,n),(c=t,Object.prototype.toString.call(c))),typeof t);if(null===t)return r(a,"null");if(void 0===t)return r(a,"undefined");if("object"==typeof t||"function"==typeof t){if(-1!==u.indexOf(t))return r(a,"[Circular]"+n);u.push(t);var i=function(e,t,n){return Object.keys(t).sort().reduce((function(e,r){return o(e,t[r],r,n)}),e)}(a,t,u);if(!("valueOf"in t)||"function"!=typeof t.valueOf)return i;try{return r(i,String(t.valueOf()))}catch(e){return r(i,"[valueOf exception]"+(e.stack||e.message))}}return r(a,t.toString())}e.exports=function(e){return function(e,t){for(;e.length<t;)e="0"+e;return e}(o(0,e,"",[]).toString(16),8)}},204:function(e,t,n){n(205),e.exports=n(206)},205:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(1);document.addEventListener("DOMContentLoaded",(async function(){const{SITE_HOSTNAME:e,ALLOW_DISABLED_CATEGORIES:t}=await Object(r.b)(),n=Object(o.f)("img",{src:chrome.runtime.getURL("/assets/images/icons/logo.svg"),class:"lux-ModalLoading-Heart"});document.querySelector(".lux-FrameLoading").appendChild(n);const u=t?"all_categories=true":"",c=Object(o.f)("iframe",{src:`${e}/plugin/mainPopup?${u}`,class:"lux-Popup-Frame",styles:{height:"450px",width:"300px"}});document.querySelector("body").appendChild(c),window.addEventListener("message",(e=>{switch(e.data.type){case"navigateToAmazonSearch":const{query:t}=e.data;if(!t)break;const n=Object(o.e)(t);chrome.tabs.create({url:n}),window.close()}}))}))},206:function(e,t,n){},3:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return i}));const r=function(e,t){return new Promise(((n,r)=>{chrome.runtime.sendMessage({type:e,...t},(e=>{n(e)}))}))},o=function(e,t,n){return r("load_query",{host:e,queryName:t,queryBundle:n})},u=function(e){return r("category_search",{searchParam:e})},c=function(){return r("get_config")},a=function(...e){r("track",{arguments:e})},i=async function(){const{productCount:e}=await r("get_purchase_meta");return e&&e>0}}});
//# sourceMappingURL=popup.js.map